<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<style> 
 /* make it look pleasing!*/  
</style>
</head> 
<body>

<h1> Search for People!</h1>

<p> Type in the name of the person you are looking for</p>
<input id="searchBar" type="text"/>
  <button id="searchButton">Search</button>
  
  <dialog id="listOfPeople"> </dialog>
  <dialog id="personInfo"></dialog>
  
  <p>--------------------------------------------</p>
  
<script>
  
    //This is where we want to pull in the code from the personList class I think
  
  $("#searchBar").click(function() { //Unsure if this is the correct call when user begins typing
    //When user types anything, a drop down list appears? 
    //Or in a box, the list of names that match appear, like in geocache
  });
  
  $("#searchButton").click(function() {
    //When the search button is clicked, display all the items that match the text
    //Do the whole "slow search" display?
  });
  
  //Make each item selectable, and when an item is selected, display in next box the info
  //dialog boxes??
 
  //-------------------------------------Object Classes------------------------
 class Person {
  constructor (attributes) {
    var attr = attributes.split("\t");

    this.name = attr[0];
    this.address = attr[1];
    this.age = attr[2];
    this.interests = attr[3];
    this.picture = attr[4];
  }

  getName() {
    return this.name;
  }
  getAddress() {
    return this.address;
  }
  getAge() {
    return this.age;
  }
  getInterests() {
    return this.interests;
  }
  getPicture() {
    return this.picture;
  }
}

class PersonList {
  titleConstraint = "";
  constructor(people) {
    this.people = people.split("\n");
    this.allPeople = [];
    var lineNum = 0;
    var next = this.people.shift();
    while (next) {
      lineNum++;
      this.allPeople.push(new Person(next));
      next = this.people.shift();
    }

    this.setTitleConstraint("");
    this.allPeople.sort(function(a, b){return a.getName().localeCompare(b.getName())});

  }

  setTitleConstraint(title) {
    this.titleConstraint = title;
  }

  select() {
    var people = [];
    var items = this.allPeople;
    var i;
    for (i = 0; i < items.length; i++) {
      if (items[i].getName().toLowerCase().includes(this.titleConstraint.toLowerCase())) {
        people.push(items[i]);
      }
    }

   people.sort(function(a, b){return a.getName().localeCompare(b.getName())});
    return people;
  }

}
   
</script>
</body>
</html>
